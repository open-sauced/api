<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>@open-sauced/api documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
	   <link rel="stylesheet" href="./styles/style.css">
        <link rel="stylesheet" href="./styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="./" class="navbar-brand">@open-sauced/api documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content getting-started">
                   <div class="content-data">

<div align="center">
  <br>
  <img alt="Open Sauced" src="https://i.ibb.co/7jPXt0Z/logo1-92f1a87f.png" width="300px">
  <h1>🍕 Open Sauced Insights API 🍕</h1>
  <strong>The path to your next Open Source contribution</strong>
  <br>
  <br>
  <a href="https://www.digitalocean.com/?refcode=c65a90d0956d&utm_campaign=Referral_Invite&utm_medium=Referral_Program&utm_source=badge"><img src="https://web-platforms.sfo2.cdn.digitaloceanspaces.com/WWW/Badge%201.svg" alt="DigitalOcean Referral Badge" /></a>
</div>
<br>
<p align="center">
  <img src="https://img.shields.io/github/languages/code-size/open-sauced/api.opensauced.pizza" alt="GitHub code size in bytes">
  <img src="https://img.shields.io/github/commit-activity/w/open-sauced/api.opensauced.pizza" alt="GitHub commit activity">
  <a href="https://github.com/open-sauced/api.opensauced.pizza/issues">
    <img src="https://img.shields.io/github/issues/open-sauced/api.opensauced.pizza" alt="GitHub issues">
  </a>
  <a href="https://github.com/open-sauced/api.opensauced.pizza/releases">
    <img src="https://img.shields.io/github/v/release/open-sauced/api.opensauced.pizza.svg?style=flat" alt="GitHub Release">
  </a>
  <a href="https://discord.gg/U2peSNf23P">
    <img src="https://img.shields.io/discord/714698561081704529.svg?label=&logo=discord&logoColor=ffffff&color=7389D8&labelColor=6A7EC2" alt="Discord">
  </a>
  <a href="https://twitter.com/saucedopen">
    <img src="https://img.shields.io/twitter/follow/saucedopen?label=Follow&style=social" alt="Twitter">
  </a>
</p>

<h2 id="🚀-live-release-environments">🚀 Live release environments</h2>
<ul>
<li><a href="https://api.opensauced.pizza/">api.opensauced.pizza</a></li>
<li><a href="https://beta.api.opensauced.pizza/">beta.api.opensauced.pizza</a></li>
</ul>
<h2 id="📖-prerequisites">📖 Prerequisites</h2>
<p>In order to run the project we need the following software binaries installed on our development machines:</p>
<ul>
<li><code>node&gt;=16.7.0</code></li>
<li><code>npm&gt;=8.0.0</code></li>
<li><code>docker&gt;=20.10.12</code></li>
</ul>
<h2 id="🖥️-local-development">🖥️ Local development</h2>
<h2 id="📡-setting-up-your-supabase-instance">📡 Setting Up Your Supabase Instance</h2>
<p>Before setting up your local PostgreSQL database, a Supabase instance should be created. To do this, follow these steps:</p>
<p><strong>1. Create a new Supabase project:</strong> Visit <a href="https://supabase.com/">Supabase</a> and create a new project.</p>
<p><strong>2. Set Environment Variables in .env file:</strong> Once your project is created, Supabase will provide a URL and an API key. Set these in your project&#39;s <code>.env</code> file:</p>
<div><pre class="line-numbers"><code class="language-none">SUPABASE_URL=your_supabase_url
SUPABASE_API_KEY=your_supabase_api_key
SUPABASE_JWT_SECRET=your_supabase_jwt_secret
API_DOMAIN=your_api_domain</code></pre></div><p>Replace <code>your_supabase_url</code>, <code>your_supabase_api_key</code>, <code>your_supabase_jwt_secret</code>, and <code>your_api_domain</code> with the actual values provided by Supabase and your project&#39;s settings.</p>
<h3 id="🗄️-setting-up-a-postgresql-database-locally">🗄️ Setting Up A PostgreSQL Database Locally</h3>
<p>A PostgreSQL Docker container has been set up to facilitate local development. Here are the steps to follow: </p>
<p><strong>1. Navigate to the <code>dev/</code> directory</strong> </p>
<p><strong>2. Obtain SSL Certificates:</strong><br>For secure SSL communication, you need a pair of SSL certificates: <code>server.crt</code> and <code>server.key</code>. You can generate self-signed certificates by using OpenSSL:</p>
<div><pre class="line-numbers"><code class="language-shell">openssl req -x509 -newkey rsa:4096 -keyout server.key -out server.crt -days 365 -nodes -subj &quot;/CN=localhost&quot;</code></pre></div><p>Please note that this generates self-signed certificates which should only be used for local development.</p>
<p><strong>3. Build the Docker image:</strong></p>
<div><pre class="line-numbers"><code class="language-shell">docker build -t my_postgres_image -f Dockerfile.local-postgres .</code></pre></div><p>This command will build the Docker image using the Dockerfile in the current directory. The previously generated SSL certificates will need to be in the same directory as the Dockerfile.</p>
<p><strong>4. Run the Docker container:</strong></p>
<div><pre class="line-numbers"><code class="language-shell">docker run --name my_postgres_container -p 25060:5432 -d my_postgres_image:latest</code></pre></div><p>This command will start a new Docker container named my_postgres_container, mapping port 25060 on your local machine to port 5432 on the Docker container.</p>
<p><strong>5. Apply migration:</strong></p>
<p>Once the database is stood up, you can use the <code>dev/apply-migrations.sh</code> script to apply all the migrations in the <code>migrations/</code> directory.</p>
<h3 id="🛠️-installation">🛠️ Installation</h3>
<p>To install the application:</p>
<div><pre class="line-numbers"><code class="language-shell">npm ci</code></pre></div><p>To start a local copy of the app on port <code>3001</code>:</p>
<div><pre class="line-numbers"><code class="language-shell">npm run start:dev</code></pre></div><h3 id="🧪-test">🧪 Test</h3>
<p>For running the test suite, use the following command. Since the tests run in watch mode by default, some users may encounter errors about too many files being open. In this case, it may be beneficial to <a href="https://facebook.github.io/watchman/docs/install.html">install watchman</a>.</p>
<div><pre class="line-numbers"><code class="language-shell">npm test</code></pre></div><p>You can request a coverage report by running the following command:</p>
<div><pre class="line-numbers"><code class="language-shell">npm run test:coverage</code></pre></div><p>For writing tests, the rule is move business or service logic to the lib folder and write unit tests. Logic that needs to be in a React component, then leverage tools like <a href="https://www.cypress.io/">Cypress</a> or <a href="https://vitest.dev/guide/mocking.html">Vitest mocking</a> to write tests.</p>
<h3 id="📦-docker-builds">📦 Docker builds</h3>
<p>A development preview can also be run from docker:</p>
<div><pre class="line-numbers"><code class="language-shell">docker build -t api.opensauced.pizza -f do.Dockerfile .
docker run -p 8080:3001 api.opensauced.pizza</code></pre></div><p>Alternatively you can pull the production container and skip all builds:</p>
<div><pre class="line-numbers"><code class="language-shell">docker run -dit -p 8080:3001 ghcr.io/open-sauced/api.opensauced.pizza</code></pre></div><h3 id="🎨-code-linting">🎨 Code linting</h3>
<p>To check the code and styles quality, use the following command:</p>
<div><pre class="line-numbers"><code class="language-shell">npm run lint</code></pre></div><p>This will also display during development, but not break on errors.</p>
<p>To fix the linting errors, use the following command:</p>
<div><pre class="line-numbers"><code class="language-shell">npm run format</code></pre></div><p>It is advised to run this command before committing or opening a pull request.</p>
<h3 id="🕺-openapi-swagger-doc">🕺 OpenAPI Swagger Doc</h3>
<p>When making API changes, make sure to run <code>npm run generate:swagger</code> to generate any new Swagger document bits.</p>
<h3 id="📕-types">📕 Types</h3>
<p>We have a couple of scripts to check and adjust missing types.</p>
<p>In order to dry run what types would be added to <code>package.json</code>:</p>
<div><pre class="line-numbers"><code class="language-shell">npm run types:auto-check</code></pre></div><p>In order to add any missing types to <code>package.json</code>:</p>
<div><pre class="line-numbers"><code class="language-shell">npm run types:auto-add</code></pre></div><h3 id="🚀-production-deployment">🚀 Production deployment</h3>
<p>A production deployment is a complete build of the project, including the build of the static assets.</p>
<div><pre class="line-numbers"><code class="language-shell">npm run build</code></pre></div><h3 id="🍕-pizza-service-integration">🍕 Pizza service integration</h3>
<p>This API integrates with the <a href="https://github.com/open-sauced/pizza">pizza service</a>
to accept requests for ingesting commits to the database.
The environment variables for this are:</p>
<div><pre class="line-numbers"><code class="language-none">PIZZA_OVEN_HOST=&quot;http://example.com&quot;
PIZZA_OVEN_API=80</code></pre></div><h2 id="🔑-database-structure">🔑 Database structure</h2>
<p>Click the image to see the schema diagram full documentation.</p>
<p><a href="public/diagrams/README.md"><img src="public/diagrams/schema.svg" alt="er" class="img-responsive"></a></p>
<h2 id="🤝-contributing">🤝 Contributing</h2>
<p>We encourage you to contribute to Open Sauced! Please check out the <a href="https://docs.opensauced.pizza/contributing/introduction-to-contributing/">Contributing guide</a> for guidelines about how to proceed.</p>
<img align="right" src="https://i.ibb.co/CJfW18H/ship.gif" width="200"/>

<h2 id="🍕-community">🍕 Community</h2>
<p>Got Questions? Join the conversation in our <a href="https://discord.gg/U2peSNf23P">Discord</a>.<br>Find Open Sauced videos and release overviews on our <a href="https://www.youtube.com/channel/UCklWxKrTti61ZCROE1e5-MQ">YouTube Channel</a>.</p>
<h2 id="🎦-repository-visualization">🎦 Repository Visualization</h2>
<p>Below is visual representation of our code repository. It is generated by <a href="https://github.com/githubocto/repo-visualizer">Octo Repo Visualizer</a>.</p>
<p>This visualization is being updated on release to our default branch by our <a href="./.github/workflows/release.yml">release workflow</a>.</p>
<p><a href="./src"><img src="./public/diagram.svg" alt="Visualization of this repository" class="img-responsive">
</a></p>
<h2 id="⚖️-license">⚖️ LICENSE</h2>
<p>MIT © <a href="LICENSE">Open Sauced</a></p>





















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 0;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'getting-started';
            var COMPODOC_CURRENT_PAGE_URL = 'index.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="./js/libs/custom-elements.min.js"></script>
       <script src="./js/libs/lit-html.js"></script>

       <script src="./js/menu-wc.js" defer></script>
       <script nomodule src="./js/menu-wc_es5.js" defer></script>

       <script src="./js/libs/bootstrap-native.js"></script>

       <script src="./js/libs/es6-shim.min.js"></script>
       <script src="./js/libs/EventDispatcher.js"></script>
       <script src="./js/libs/promise.min.js"></script>
       <script src="./js/libs/zepto.min.js"></script>

       <script src="./js/compodoc.js"></script>

       <script src="./js/tabs.js"></script>
       <script src="./js/menu.js"></script>
       <script src="./js/libs/clipboard.min.js"></script>
       <script src="./js/libs/prism.js"></script>
       <script src="./js/sourceCode.js"></script>
          <script src="./js/search/search.js"></script>
          <script src="./js/search/lunr.min.js"></script>
          <script src="./js/search/search-lunr.js"></script>
          <script src="./js/search/search_index.js"></script>
       <script src="./js/lazy-load-graphs.js"></script>


    </body>
</html>
